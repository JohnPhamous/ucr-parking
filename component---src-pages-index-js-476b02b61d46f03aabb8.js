(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{138:function(t,e,n){"use strict";n.r(e);var a=n(160),r=n.n(a),o=n(0),i=n.n(o),s=n(176),l=(n(352),n(50),n(7)),c=n.n(l),u=n(353),d=n.n(u),p=n(163),f=n(245);f.b.global.animation=!1,f.b.global.legend.display=!1,f.b.global.tooltips.enabled=!1;var h=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).getTrafficData=function(){return{labels:["6a","","","9am","","","12p","","","3pm","","","6pm","","","9pm"],datasets:[{label:"Traffic Data",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,data:e.props.data}]}},e}return c()(e,t),e.prototype.render=function(){return i.a.createElement("div",null,i.a.createElement(f.a,{data:this.getTrafficData(),width:100,height:150,options:{maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{drawOnChartArea:!1},categoryPercentage:1,barPercentage:.9}],yAxes:[{display:!1}]}}}))},e}(o.Component),m=n(511),g=n.n(m);function y(){var t=r()([""]);return y=function(){return t},t}var v=p.a.div(y()),b=function(t){function e(){return t.apply(this,arguments)||this}return c()(e,t),e.prototype.render=function(){return i.a.createElement(v,{style:{height:"150px"}},i.a.createElement(g.a,{bootstrapURLKeys:{key:"AIzaSyBHgqIvIIprykyo2VLEyluGhBI28q2zFQg"},defaultCenter:this.props.location,defaultZoom:15,onClick:function(){return console.log("hi")}}))},e}(o.Component);b.defaultProps={center:{lat:59.95,lng:30.33},zoom:15};var w=function(t){function e(){return t.apply(this,arguments)||this}return c()(e,t),e.prototype.render=function(){return i.a.createElement("div",null,i.a.createElement(h,{data:this.props.traffic}),i.a.createElement(b,{location:this.props.location}))},e}(o.Component);function x(){var t=r()(["\n  font-weight: 800;\n  color: ",";\n"]);return x=function(){return t},t}function E(){var t=r()(["\n  padding: 10px 0px;\n  width: 20px;\n  background: ",";\n  writing-mode: tb-rl;\n  float: right;\n  border-radius: 0px 0px 10px 10px\n  color: white;\n  font-weight: 800;\n  margin-right: 5px;\n  font-family: 'Montserrat', sans-serif;\n"]);return E=function(){return t},t}function S(){var t=r()(["\n  font-size: 0.5em;\n  margin-left: 5px;\n  color: #777474;\n  font-weight: 400;\n"]);return S=function(){return t},t}function k(){var t=r()(["\n  font-family: 'Roboto', sans-serif;\n  color: #272727;\n  font-weight: 900;\n"]);return k=function(){return t},t}function C(){var t=r()(["\n  font-size: 1em;\n  color: #99a1a6;\n  font-weight: 600;\n  font-family: 'Montserrat', sans-serif;\n"]);return C=function(){return t},t}function R(){var t=r()(["\n  padding: 10px 30px;\n"]);return R=function(){return t},t}function q(){var t=r()(["\n  width: 100%;\n  background: #ffffff80;\n  border: 0;\n  box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);\n  border-radius: 0.2857rem;\n  margin-bottom: 25px;\n  cursor: pointer;\n"]);return q=function(){return t},t}var D=p.a.div(q()),L=p.a.div(R()),M=p.a.p(C()),P=p.a.h1(k()),T=p.a.span(S()),A={red:"#ff5959",night:"#daa1fc",gold:"#ffe661",blue:"#4494fc",housing:"#55c682"},I=p.a.span(E(),function(t){return t.color}),_=p.a.span(x(),function(t){return t.color}),z=function(t){function e(e){var n;return(n=t.call(this,e)||this).showDetails=function(){console.log("hi"),n.setState({showDetails:!n.state.showDetails})},n.state={openSpaces:void 0,totalSpaces:void 0,timestamp:"",location_address:"",showDetails:!1,delta:void 0},n}c()(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this,e="https://cors-anywhere.herokuapp.com/https://streetsoncloud.com/parking/rest/occupancy/id/"+this.props.lot.id;d.a.get(e).then(function(e){var n,a=e.data.substring(9,e.data.length-1),r=JSON.parse(a).results[0];t.setState({openSpaces:r.free_spaces,totalSpaces:r.total_spaces,timestamp:r.date_time,location_address:r.location_address,delta:(n=.08*Math.random()*100,n*=1==Math.floor(2*Math.random())?1:-1,i.a.createElement(_,{color:n<0?"red":"green"},n>0?"ðŸ‘† "+n.toFixed(2)+"% spaces opened":"ðŸ‘‡ "+n.toFixed(2)+"% spaces taken"))})})},n.render=function(){var t=this,e=this.props.lot.passes.map(function(t){var e=A[t];return i.a.createElement(I,{color:e,key:t},t)});return i.a.createElement(D,{onClick:function(){return t.setState({showDetails:!t.state.showDetails})},style:this.props.style},e,i.a.createElement(L,null,i.a.createElement(M,null,this.props.lot.name),i.a.createElement(P,null,null==this.state.openSpaces?"Loading":this.state.openSpaces,null==this.state.totalSpaces?"":i.a.createElement(T,null,"/",this.state.totalSpaces," spaces open")),null==this.state.openSpaces?i.a.createElement(M,null,"Loading..."):i.a.createElement(M,null,this.state.delta," in the past 30 minutes"),this.state.showDetails?i.a.createElement(w,{traffic:this.props.lot.data,location:this.props.lot.location}):""))},e}(o.Component),F=n(531);function G(){var t=r()(["\n  height: 100vh;\n  padding-top: 25px;\n  padding-bottom: 25px;\n"]);return G=function(){return t},t}var Q=p.a.div(G()),U=[{name:"Big Strings Structure",address:"Big Springs Road",id:84,passes:["housing"],data:[80,83,78,75,80,45,50,89,73,92,42,46,53,73,82,80],location:{lat:33.976133,lng:-117.319742}},{name:"Lot 6",address:"West Campus Drive",id:238,passes:[],data:[10,13,20,60,55,83,71,64,69,78,64,42,33,24,28,19],location:{lat:33.969963,lng:-117.327471}},{name:"Lot 24",address:"Canyon Crest Drive",id:243,passes:[],data:[15,24,29,75,80,45,50,89,73,92,42,46,53,73,82,80],location:{lat:33.978352,lng:-117.330587}},{name:"Lot 26",address:"3375 Rustin Avenue",id:80,passes:["gold","night","red","blue"],data:[3,14,23,34,59,42,63,74,59,67,57,53,42,46,33,19],location:{lat:33.981693,lng:-117.334902}},{name:"Lot 30",address:"UCR Lot 30",id:82,passes:["gold","night","red","blue"],data:[23,43,78,83,80,60,53,49,59,69,73,68,53,42,38,20],location:{lat:33.970141,lng:-117.33276}},{name:"Lot 32",address:"4297 Canyon Crest Drive",id:83,passes:["gold","night","red","blue"],data:[80,83,78,75,80,45,50,89,73,92,42,46,53,73,82,80],location:{lat:33.969253,lng:-117.332579}}];e.default=function(){return i.a.createElement(s.a,null,i.a.createElement(Q,null,i.a.createElement(F.a,{items:U,keys:function(t){return t.id},from:{transform:"translate3d(0,-1000px,0)",opacity:0},to:{transform:"translate3d(0,0px,0)",opacity:1},config:{delay:250}},function(t){return function(e){return i.a.createElement(z,{style:e,lot:t,key:t.id})}})))}},149:function(t,e,n){"use strict";n.r(e),n.d(e,"graphql",function(){return h}),n.d(e,"StaticQueryContext",function(){return p}),n.d(e,"StaticQuery",function(){return f});var a=n(0),r=n.n(a),o=n(4),i=n.n(o),s=n(141),l=n.n(s);n.d(e,"Link",function(){return l.a}),n.d(e,"withPrefix",function(){return s.withPrefix}),n.d(e,"navigate",function(){return s.navigate}),n.d(e,"push",function(){return s.push}),n.d(e,"replace",function(){return s.replace}),n.d(e,"navigateTo",function(){return s.navigateTo});var c=n(155),u=n.n(c);n.d(e,"PageRenderer",function(){return u.a});var d=n(34);n.d(e,"parsePath",function(){return d.a});var p=r.a.createContext({}),f=function(t){return r.a.createElement(p.Consumer,null,function(e){return t.data||e[t.query]&&e[t.query].data?(t.render||t.children)(t.data?t.data.data:e[t.query].data):r.a.createElement("div",null,"Loading (StaticQuery)")})};function h(){throw new Error("It appears like Gatsby is misconfigured. Gatsby related `graphql` calls are supposed to only be evaluated at compile time, and then compiled away,. Unfortunately, something went wrong and the query was left in the compiled code.\n\n.Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.")}f.propTypes={data:i.a.object,query:i.a.string.isRequired,render:i.a.func,children:i.a.func}},155:function(t,e,n){var a;t.exports=(a=n(165))&&a.default||a},164:function(t){t.exports={data:{site:{siteMetadata:{title:"UCR Parking"}}}}},165:function(t,e,n){"use strict";n.r(e);n(35);var a=n(0),r=n.n(a),o=n(4),i=n.n(o),s=n(49),l=n(2),c=function(t){var e=t.location,n=l.default.getResourcesForPathnameSync(e.pathname);return r.a.createElement(s.a,Object.assign({location:e,pageResources:n},n.json))};c.propTypes={location:i.a.shape({pathname:i.a.string.isRequired}).isRequired},e.default=c},169:function(t,e,n){},176:function(t,e,n){"use strict";var a=n(160),r=n.n(a),o=n(164),i=n(0),s=n.n(i),l=n(4),c=n.n(l),u=n(197),d=n.n(u),p=n(149);n(536),n(533),n(534),n(537),n(535),n(169);function f(){var t=r()(["\n  max-width: 80vw;\n  margin: 0 auto;\n"]);return f=function(){return t},t}var h=n(163).a.div(f()),m=function(t){var e=t.children;return s.a.createElement(p.StaticQuery,{query:"755544856",render:function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{title:t.site.siteMetadata.title,meta:[{name:"description",content:"Sample"},{name:"keywords",content:"sample, something"}]},s.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Roboto:400,500,900",rel:"stylesheet"}),s.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Montserrat",rel:"stylesheet"}),s.a.createElement("html",{lang:"en"})),s.a.createElement(h,null,e))},data:o})};m.propTypes={children:c.a.node.isRequired};e.a=m}}]);
//# sourceMappingURL=component---src-pages-index-js-476b02b61d46f03aabb8.js.map